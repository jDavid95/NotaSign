<%- include ('./partials/head.ejs') %>

	<link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

	<title>NotaSign User Dashboard</title>

	</head>

	<body>

		<header class="p-3 bg-dark text-white">
			<div class="container">
				<div class="d-flex flex-wrap align-items-center justify-content-center ">

					<ul class="nav col-12 col-sm-auto me-sm-auto mb-2 justify-content-center mb-md-0">
						<li><a href="/" class="nav-link px-2 text-secondary">Home</a></li>
						<li><a href="/userDashboard" class="nav-link px-2 text-white">Dashboard</a></li>
					</ul>
					
					<div class="dropdown text-end">

						<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Hello, <%- fullName %></a>

						<ul class="dropdown-menu dropdown-menu-dark">
							<li><a class="dropdown-item" href="/userDashboard">Dashboard</a></li>
							<li><hr class="dropdown-divider"></li>
							<li><a class="dropdown-item" href="/logout">Logout</a></li>
						</ul>
					</div>

				</div>
			</div>
		</header>

		<%- include ('./partials/userUploadAlerts.ejs') %>

		<div class="container">
			<div class="row profile">
				<div class="col-md-3">
					<div class="profile-sidebar">
						<!-- SIDEBAR USER TITLE -->
						<div class="profile-usertitle">
							<h2 class="profile-usertitle-name"><%- fullName %></h2>
							<i class="profile-usertitle-job">User</i>
						</div>
						<!-- END SIDEBAR USER TITLE -->
						<!-- SIDEBAR MENU -->
						<div class="profile-usermenu">

							<h2 class="profile-usertitle-name text-center mb-4">Submit a PDF</h2>
							<form id="uploadForm" method="post" action="/userDashboard/userUploadPDF" enctype="multipart/form-data">

                                    
								<div class="mx-auto form-outline mb-4 w-75">
									<input style="font-size: 15px;" type="file" id="pdfFile" name = "pdfFile" class="form-control form-control-md" />
								</div>
								

								<div class="d-flex justify-content-center">
									<button id="submit" type="submit" class="btn btn-success btn-block btn-md gradient-custom-4 text-body text-center w-75">Upload</button>
								</div>

							</form>
						  </div>
						
					</div>
				</div>

				<div class="col-md-9">
					<div class="profile-content table-responsive">
						<table id="docTable" class="table table-striped">
							<thead>
								<tr>
									<th scope="col">PDF Name</th>
									<th class="text-center" scope="col">Completed</th>
									<th class="text-center" scope="col">View PDF</th>
									<th class="text-center" scope="col">Delete</th>
								</tr>
							</thead>
							<tbody>
								
								<%- table %>
								
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>


		<div class="modal" id="deleteModal" aria-hidden="true" style="display: none;">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-body text-center mb-5">
						<i width="32" height="32" class="bi bi-x-octagon fa-5x mt-3"></i>
						<h1>Are You Sure?</h1>
						<p>Do you really want to delete this PDF? This process cannot be undone.</p>
						<div class="btn-group">
							<button type="button" class="btn btn-secondary btn-lg mr-2 rounded-lg"
								data-bs-dismiss="modal">Cancel</button>
							<a id="linkToDelete" type="button" class="btn btn-danger btn-lg rounded-lg">Delete</a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
		<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
		<script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>

		<script src="../CSS/pagination.js"></script>
		<script src="../public/js/uploadPDFValidation.js"></script>
		<script src="../public/js/deletePDFButton.js"></script>
	
		<%- include ('./partials/footer.ejs') %>